name: Send test results to New Relic
description: Send Mocha test results to New Relic Metric API
branding:
  icon: arrow-right
  color: green

inputs:
  new-relic-license-key:
    description: New Relic API ingest key Metric API
    required: true
  test-result-filename:
    description: Filename with test results
    required: false
    default: './results.json'
  fail-pipeline:
    description: Whether to fail the pipeline when something goes wrong in this action
    required: false
    default: '0'
  metric-id:
    description: Identification of the metric record
    required: false
    default: 'test'
  verbose-log:
    description: Print verbose messages to log, useful for debugging
    required: false
    default: '0'
  upload-test-artifact:
    description: Whether to upload test artifact
    required: false
    default: '1'
  job-id:
    description: Custom job id of the job this action was called from
    required: false

runs:
  using: 'node16'
  main: 'dist/index.js'
